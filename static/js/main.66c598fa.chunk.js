(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{271:function(e,a,t){e.exports=t(334)},331:function(e,a){},334:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=t(29),i=t(35),m=t(249),s=t(250),u=t(19),p=t.n(u),g=t(12),E=t(27),f=t(252),d=t.n(f).a.create({baseURL:"http://ec2-13-233-36-233.ap-south-1.compute.amazonaws.com/api/api",timeout:18e4,headers:{"Content-Type":"application/json"}});d.defaults.headers.common.token=localStorage.getItem("token");var h=d,b=t(253),O=function(e,a){return function(t){t({type:"SESSION_LOGIN_START"}),h.post("/auth/login",Object(g.a)({},e)).then((function(e){var n=Object(b.get)(e,"data",null);localStorage.setItem("token",n),a.push("/home"),window.location.reload(!1),t(S())})).catch((function(e){t(v(e.response.data))}))}},S=function(){return{type:"SESSION_LOGIN_SUCCESS"}},v=function(e){return{type:"SESSION_LOGIN_FAIL",payload:{error:e}}},y=function(e){return{type:"GET_USER_SUCCESS",payload:e}},x=function(e){return{type:"GET_USER_FAILURE",payload:{error:e}}},j=function(){var e=Object(E.a)(p.a.mark((function e(){var a,t,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.length>0&&void 0!==n[0]?n[0]:{},t=n.length>1?n[1]:void 0,e.t0=t.type,e.next="SESSION_LOGIN_START"===e.t0?5:"SESSION_LOGIN_SUCCESS"===e.t0?6:"SESSION_LOGIN_FAIL"===e.t0?7:"SESSION_LOGOUT"===e.t0?9:10;break;case 5:return e.abrupt("return",Object(g.a)(Object(g.a)({},a),{},{loggedIn:!1,loading:!0,error:null}));case 6:return e.abrupt("return",Object(g.a)({loading:!1,loggedIn:!0},a));case 7:return console.log(t),e.abrupt("return",Object(g.a)(Object(g.a)({},a),{},{loading:!1,loggedIn:!1,error:t.payload.error}));case 9:return e.abrupt("return",Object(g.a)(Object(g.a)({},a),{},{loggedIn:!1}));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":return Object(g.a)(Object(g.a)({},e),{},{loading:!0});case"GET_USER_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:null},a.payload);case"GET_USER_FAILURE":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:a.payload.error});default:return e}},I=Object(i.c)({session:j,user:w}),N=function(){var e=Object(s.composeWithDevTools)(Object(i.a)(m.a)),a=Object(i.d)(e);return Object(i.e)(I,a)},k=t(14),T=t(50),C=t(254),W=t(386),_=t(387),G=t(11),L=t(345),U=t(367),z=t(2),F=t(3),H=t(364),R=t(366),D=Object(L.a)((function(){return{root:{boxShadow:"none"}}})),P=function(e){var a=e.className,t=Object(z.a)(e,["className"]),n=D();return r.a.createElement(H.a,Object.assign({},t,{className:Object(F.a)(n.root,a),color:"primary"}),r.a.createElement(R.a,null,r.a.createElement(T.b,{to:"/"},r.a.createElement("img",{alt:"Logo",src:"/logo.svg"}))))},A=Object(L.a)((function(e){return{content:Object(G.a)({height:"100%",paddingTop:56},e.breakpoints.up("sm"),{paddingTop:64})}})),V=function(e){var a=e.children,t=A();return r.a.createElement(n.Fragment,null,r.a.createElement(P,null),r.a.createElement("main",{className:t.content},r.a.createElement(n.Suspense,{fallback:r.a.createElement(U.a,null)},r.a.createElement(P,null),a)))},B=t(13),q=t(391),J=t(376),Y=t(370),$=t(371),K=t(374),M=t(389),Q=t(378),X=t(377),Z=t(100),ee=t.n(Z),ae=t(266),te=t(368),ne=t(369),re=t(388),le=Object(te.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},info:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ce=Object(k.g)((function(e){var a=le(),t=Object(n.useState)({}),l=Object(B.a)(t,2),c=l[0],i=l[1],m=e.history,s=Object(o.b)(),u=Object(n.useState)(null),f=Object(B.a)(u,2),d=f[0],b=f[1],S=function(){var e=Object(E.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s(O(Object(g.a)({},c),m)),e.prev=2,e.next=5,h.post("/auth/login",Object(g.a)({},c));case 5:t=e.sent,t.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),v=function(e){e.persist(),i((function(a){return Object(g.a)(Object(g.a)({},a),{},Object(G.a)({},e.target.name,e.target.value))}))};return r.a.createElement(ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Y.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(q.a,{className:a.avatar},r.a.createElement(ee.a,null)),r.a.createElement(ae.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement($.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:v}),r.a.createElement($.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:v}),r.a.createElement(K.a,{control:r.a.createElement(M.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(J.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:S},"Sign In"),r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:!0},r.a.createElement(Q.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(X.a,{item:!0},r.a.createElement(Q.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement("div",{className:a.info},d&&r.a.createElement(re.a,{severity:"error"},d))))})),oe=Object(te.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},info:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function ie(){var e=oe(),a=Object(n.useState)({}),t=Object(B.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(null),i=Object(B.a)(o,2),m=i[0],s=i[1],u=Object(n.useState)(null),f=Object(B.a)(u,2),d=f[0],b=f[1],O=function(e){s(null),e.persist(),c((function(a){return Object(g.a)(Object(g.a)({},a),{},Object(G.a)({},e.target.name,e.target.value))}))},S=function(){var e=Object(E.a)(p.a.mark((function e(a){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h.post("/auth/register",Object(g.a)({},l));case 4:t=e.sent,n=t.data,s(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Y.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(q.a,{className:e.avatar},r.a.createElement(ee.a,null)),r.a.createElement(ae.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(X.a,{container:!0,spacing:2},r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement($.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,onChange:O})),r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement($.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:O})),r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement($.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:O}))),r.a.createElement(J.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:S},"Sign Up"),r.a.createElement(X.a,{container:!0,justify:"flex-end"},r.a.createElement(X.a,{item:!0},r.a.createElement(Q.a,{href:"/login",variant:"body2"},"Already have an account? Sign in")))),r.a.createElement("div",{className:e.info},m&&r.a.createElement(re.a,{severity:"info"},m),d&&r.a.createElement(re.a,{severity:"error"},d))))}var me=t(380),se=t(384),ue=t(383),pe=t(379),ge=t(381),Ee=t(382),fe=t(265),de=t(390),he=Object(te.a)({table:{minWidth:650}}),be=function(){he();var e=Object(n.useState)([]),a=Object(B.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(0),o=Object(B.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(0),u=Object(B.a)(s,2),g=u[0],f=u[1];Object(n.useEffect)((function(){d(i)}),[i]);var d=function(){var e=Object(E.a)(p.a.mark((function e(a){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/shares/list?page=".concat(Number(a)+1));case 3:t=e.sent,n=t.data,l(n.docs),f(n.totalDocs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(fe.a,null,r.a.createElement(pe.a,{component:fe.a},r.a.createElement(me.a,{size:"small","aria-label":"a dense table"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ue.a,null,"Company Name"),r.a.createElement(ue.a,{align:"left"},"Company Id"),r.a.createElement(ue.a,{align:"left"},"Share ID"),r.a.createElement(ue.a,{align:"left"},"Share Type"),r.a.createElement(ue.a,{align:"right"},"Value"))),r.a.createElement(se.a,null,t.map((function(e){return r.a.createElement(Ee.a,{key:e.name},r.a.createElement(ue.a,{align:"left"},e.companyName),r.a.createElement(ue.a,{align:"left"},e.companyId),r.a.createElement(ue.a,{align:"left"},e.shareId),r.a.createElement(ue.a,{align:"left"},e.shareType),r.a.createElement(ue.a,{align:"right"},e.shareValue))}))))),r.a.createElement(de.a,{rowsPerPageOptions:[10],component:"div",count:g,rowsPerPage:10,page:i,onChangePage:function(e,a){m(a)}}))},Oe=Object(te.a)({table:{minWidth:650}}),Se=function(){Oe();var e=Object(n.useState)([]),a=Object(B.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(0),o=Object(B.a)(c,2),i=o[0],m=o[1],s=Object(n.useState)(0),u=Object(B.a)(s,2),g=u[0],f=u[1];Object(n.useEffect)((function(){d(i)}),[i]);var d=function(){var e=Object(E.a)(p.a.mark((function e(a){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/shares/user/list?page=".concat(Number(a)+1));case 3:t=e.sent,n=t.data,l(n.docs),f(n.totalDocs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(fe.a,null,r.a.createElement(pe.a,{component:fe.a},r.a.createElement(me.a,{size:"small","aria-label":"a dense table"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ue.a,null,"Company Name"),r.a.createElement(ue.a,{align:"left"},"Company Id"),r.a.createElement(ue.a,{align:"left"},"Share ID"),r.a.createElement(ue.a,{align:"left"},"Share Type"),r.a.createElement(ue.a,{align:"right"},"Value"))),r.a.createElement(se.a,null,t.map((function(e){return r.a.createElement(Ee.a,{key:e.name},r.a.createElement(ue.a,{align:"left"},e.companyName),r.a.createElement(ue.a,{align:"left"},e.companyId),r.a.createElement(ue.a,{align:"left"},e.shareId),r.a.createElement(ue.a,{align:"left"},e.shareType),r.a.createElement(ue.a,{align:"right"},e.shareValue))}))))),r.a.createElement(de.a,{rowsPerPageOptions:[10],component:"div",count:g,rowsPerPage:10,page:i,onChangePage:function(e,a){m(a)}}))},ve=t(262),ye=t.n(ve),xe=Object(te.a)({table:{minWidth:650}}),je=function(){xe();var e=Object(n.useState)([]),a=Object(B.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){ye()("http://localhost:9000").on("sharesList",(function(e){l(e.docs)}))}),[]),r.a.createElement(fe.a,null,r.a.createElement(pe.a,{component:fe.a},r.a.createElement(me.a,{size:"small","aria-label":"a dense table"},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ue.a,null,"Company Name"),r.a.createElement(ue.a,{align:"left"},"Company Id"),r.a.createElement(ue.a,{align:"left"},"Share ID"),r.a.createElement(ue.a,{align:"left"},"Share Type"),r.a.createElement(ue.a,{align:"right"},"Value"))),r.a.createElement(se.a,null,t.map((function(e){return r.a.createElement(Ee.a,{key:e.name},r.a.createElement(ue.a,{align:"left"},e.companyName),r.a.createElement(ue.a,{align:"left"},e.companyId),r.a.createElement(ue.a,{align:"left"},e.shareId),r.a.createElement(ue.a,{align:"left"},e.shareType),r.a.createElement(ue.a,{align:"right"},e.shareValue))}))))))},we=Object(L.a)((function(e){return{root:{marginLeft:e.spacing(5),marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},container:{marginTop:e.spacing(3)}}})),Ie=Object(k.g)((function(e){e.className;var a=Object(z.a)(e,["className"]),t=we(),n=Object(o.b)(),l=e.history,c=Object(o.c)((function(e){return e.user}));return r.a.createElement("div",Object.assign({},a,{className:t.root}),r.a.createElement(X.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},r.a.createElement(X.a,{item:!0,md:6,xs:12},r.a.createElement(ae.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Home"),r.a.createElement(ae.a,{component:"h1",gutterBottom:!0,variant:"h2"},"Welcome ",c.name),r.a.createElement(J.a,{color:"secondary",variant:"contained",onClick:function(){l.push("/login"),n((function(e){localStorage.clear(),window.location.reload(!1),e({type:"SESSION_LOGOUT"})}))}},"LOG OUT"))),r.a.createElement(X.a,{className:t.container,container:!0,spacing:3},r.a.createElement(X.a,{item:!0,lg:6,sm:12,xs:12},r.a.createElement(ae.a,{component:"h3",gutterBottom:!0,variant:"h4"},"List of Shares"),r.a.createElement(be,null)),r.a.createElement(X.a,{item:!0,lg:6,sm:12,xs:12},r.a.createElement(ae.a,{component:"h3",gutterBottom:!0,variant:"h4"},"Your Shares"),r.a.createElement(Se,null)),r.a.createElement(X.a,{item:!0,lg:6,sm:12,xs:12},r.a.createElement(ae.a,{component:"h3",gutterBottom:!0,variant:"h4"},"Realtime Share Values"),r.a.createElement(je,null))))})),Ne=t(263),ke=t(15),Te="#FFFFFF",Ce={black:"#000000",white:Te,primary:{contrastText:Te,dark:ke.a.teal[900],main:ke.a.teal[400],light:ke.a.teal[100]},secondary:{contrastText:Te,dark:ke.a.blue[900],main:ke.a.blue.A400,light:ke.a.blue.A400},error:{contrastText:Te,dark:ke.a.red[900],main:ke.a.red[600],light:ke.a.red[400]},text:{primary:ke.a.blueGrey[900],secondary:ke.a.blueGrey[600],link:ke.a.blue[600]},link:ke.a.blue[800],icon:ke.a.blueGrey[600],background:{default:"#F4F6F8",paper:Te},divider:ke.a.grey[200]},We={h1:{color:Ce.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:Ce.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:Ce.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:Ce.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:Ce.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:Ce.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:Ce.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:Ce.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:Ce.text.primary,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:Ce.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:Ce.text.primary,fontSize:"14px"},caption:{color:Ce.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:Ce.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},_e=Object(Ne.a)({palette:Ce,typography:We}),Ge=function(){var e=localStorage.getItem("token")||null,a=Object(o.b)(),t=Object(o.c)((function(e){return e.user})).email;Object(n.useEffect)((function(){e&&a((function(e){e({type:"GET_USER"}),h.post("/user/getuser",{}).then((function(a){e(y(a.data))})).catch((function(a){e(x(a))}))}))}),[]);var l=r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/register",component:ie}),r.a.createElement(k.b,{path:"/login",component:ce}),r.a.createElement(k.a,{to:"/login"}));return t&&(l=r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/home",exact:!0,component:Ie}),r.a.createElement(k.a,{to:"/home"}))),r.a.createElement(W.a,{theme:_e},r.a.createElement(_.a,{utils:C.a},r.a.createElement(T.a,null,r.a.createElement(V,null,l))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=N();c.a.render(r.a.createElement(o.a,{store:Le},r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[271,1,2]]]);
//# sourceMappingURL=main.66c598fa.chunk.js.map